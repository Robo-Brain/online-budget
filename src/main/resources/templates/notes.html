<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Notes</title>
    <th:block th:include="_header"></th:block>
</head>

<body>
<th:block th:include="_menu"></th:block>

<div id="createNoteTable" class="divTable">
    <div class="divTableRow">
        <div class="divTableCell">Note date:</div>
        <div class="divTableCell">Note text:</div>
        <div class="divTableCell">Is remind?</div>
    </div>
    <div class="divTableRow">
        <div class="divTableCell"><input type="text" id="date" name="date" /></div>
        <div class="divTableCell"><textarea rows="4" cols="50" id="text" name="text" ></textarea></div>
        <div class="divTableCell">
            <label class="switch">
                <input id="isRemind" name="isRemind" type="checkbox">
                <span class="slider"></span>
            </label>
        </div>
    </div>
</div>
<button id="addNote" type="button">SAVE</button>
<p><br /></p>

<div id="notesTable" class="divTable">
    <div class="divTableRow">
        <div class="divTableCell">Note date:</div>
        <div class="divTableCell">Note text:</div>
        <div class="divTableCell">Is remind?</div>
        <div class="divTableCell">Is muted?</div>
        <div class="divTableCell"> XXX </div>
    </div>
</div>
<th:block sec:authorize="isAuthenticated()">
    <script th:inline="javascript">
        notes = /*[[${notes}]]*/ "";
        appendNotes();

        $(".editButton").click(function(e) {
            e.preventDefault();
            var id = $(this).attr('id');
            editNoteFunc(id);
        });

        $(".delButton").click(function(d) {
            d.preventDefault();
            var id = $(this).attr('id');
            deleteNoteFunc(id);
        });

        $(".cancelButton").click(function(c) {
            c.preventDefault();
            var id = $(this).attr('id');
            $('.divTableCell.' + id).show();
            $('.divTableCell.hidden.' + id).hide();
        });

        $(".saveButton").click(function (s) {
            s.preventDefault();
            var id = $(this).attr('id');
            saveNoteFunc(id);
        });

    </script>
    <script src="../static/js/notes.js" th:src="@{/js/notes.js}" type="text/javascript"></script>
</th:block>
</body>
</html>